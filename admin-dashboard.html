<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="css/styles.css"> <!-- Ensure the path is correct -->
    <script type="module" src="js/admin.js" defer></script>
    <script type="module" src="js/auth.js" defer></script> <!-- Ensure the path is correct -->
</head>
<body>
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar hidden">
        <button id="closeSidebar" class="closebtn">&times;</button>
        <a href="#" id="dashboardLink">Home (Dashboard)</a>
        <a href="#" id="requestLink">Request List</a>
        <a href="#" id="analysisReportLink">Analysis Report</a>
        <a href="#" id="manageUsersLink">Manage Users</a>
        <a href="#" id="appointmentLink">Appointment</a>
        <a href="#" id="eventsLink">Events</a>
        <div id="manageUsersSection">
            <button class="tablinks" onclick="openTab(event, 'clients')">Clients</button>
            <button class="tablinks" onclick="openTab(event, 'staff')">Laboratory Staff</button>
            <button class="tablinks" onclick="openTab(event, 'newRequests')">New User Requests</button>
        </div>
    </div>

    <!-- Page Content -->
    <div id="main">
        <!-- Header -->
        <header class="header">
            <button id="openSidebar" class="openbtn">&#9776;</button>
            <h1>Admin Dashboard</h1>
            <div class="header-icons">
                <button id="helpBtn">Help</button>
                <button id="notificationsBtn">Notifications</button>
                <button id="settingsBtn">Settings</button>
            </div>
        </header>

        <!-- Main Content -->
        <div id="content" class="content">
            <!-- Admin Content -->
            <div id="admin-content" class="hidden">
                <!-- Add admin-specific content here -->
            </div>
            
            <!-- Error Message -->
            <div id="admin-error-message" class="hidden">
                <p>You are not authorized to view this content.</p>
            </div>

            <!-- Tabs -->
            <!-- Clients Tab -->
            <div id="clients" class="tabcontent">
                <h2>Clients</h2>
                <table id="clientsTable">
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Client Type</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Clients will be inserted here -->
                    </tbody>
                </table>
                <button id="addClientBtn">Add New Client</button>
            </div>

            <div id="clientDetailsModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <!-- Client details will be inserted here -->
                </div>
            </div>

            <!-- Modal for adding a new client -->
            <div id="addClientModal" class="modal">
                <div class="modal-content">
                    <span id="closeAddClientModal" class="close">&times;</span>
                    <h2>Add New Client</h2>
                    <form id="addClientForm">
                        <label for="newClientEmail">Email:</label>
                        <input type="email" id="newClientEmail" required><br><br>

                        <label for="newClientRole">Role:</label>
                        <input type="text" id="newClientRole" value="Client" readonly><br><br>

                        <label>Client Type:</label><br>
                        <label>
                            <input type="radio" name="clientType" value="Internal" required>
                            Internal
                        </label><br>
                        <label>
                            <input type="radio" name="clientType" value="External">
                            External
                        </label><br><br>

                        <label for="firstName">First Name:</label>
                        <input type="text" id="firstName" required><br><br>
                        
                        <label for="middleName">Middle Name:</label>
                        <input type="text" id="middleName"><br><br>
                        
                        <label for="lastName">Last Name:</label>
                        <input type="text" id="lastName" required><br><br>
                        
                        <label for="address">Address:</label>
                        <input type="text" id="address" required><br><br>
                        
                        <label for="username">Username:</label>
                        <input type="text" id="username" required><br><br>
                        
                        <label for="contactNumber">Contact Number:</label>
                        <input type="text" id="contactNumber" required><br><br>
                        
                        <label for="school">School:</label>
                        <input type="text" id="school" required><br><br>
                        
                        <label for="department">Department:</label>
                        <input type="text" id="department" required><br><br>

                        <button type="submit" id="addClientSubmit">Add Client</button>
                    </form>
                </div>
            </div>


            <!-- Laboratory Staff Tab -->
            <div id="staff" class="tabcontent">
                <h2>Laboratory Staff</h2>
                <table id="staffTable">
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Laboratory staff will be inserted here -->
                    </tbody>
                </table>
                <button id="addStaffBtn">Add New Staff</button>
            </div>

            <!-- Modal for adding a new laboratory staff -->
            <div id="addStaffModal" class="modal">
                <div class="modal-content">
                    <span id="closeAddStaffModal" class="close">&times;</span>
                    <h2>Add New Laboratory Staff</h2>
                    <form id="addStaffForm">
                        <label for="staffEmail">Email:</label>
                        <input type="email" id="newStaffEmail" required><br><br>
                        
                        <label for="newStaffRole">Role:</label>
                        <input type="text" id="newStaffRole" value="Laboratory Staff" readonly><br><br>
                        
                        <label for="staffFirstName">First Name:</label>
                        <input type="text" id="staffFirstName" required><br><br>
                        
                        <label for="staffMiddleName">Middle Name:</label>
                        <input type="text" id="staffMiddleName"><br><br>
                        
                        <label for="staffLastName">Last Name:</label>
                        <input type="text" id="staffLastName" required><br><br>
                        
                        <label for="staffAddress">Address:</label>
                        <input type="text" id="staffAddress" required><br><br>
                        
                        <label for="staffUsername">Username:</label>
                        <input type="text" id="staffUsername" required><br><br>
                        
                        <label for="staffContactNumber">Contact Number:</label>
                        <input type="text" id="staffContactNumber" required><br><br>
                        
                        <button type="submit" id="addStaffSubmit">Add Staff</button>
                    </form>
                </div>
            </div>

            <!-- New User Requests Tab -->
            <div id="newRequests" class="tabcontent">
                <h2>New User Requests</h2>
                <table id="newRequestsTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Client Type / Department</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dynamic content will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal Structure -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span id="modalClose" class="close">&times;</span>
            <div id="modalBody">
                <!-- Modal content will be inserted here -->
            </div>
        </div>
    </div>


    <script src="js/sidebar.js" defer></script> <!-- Ensure the path is correct -->
    <script type="module" src="js/admin.js" defer></script>
    
</body>
</html>
